# Для запуска приложения из корневого каталога выполните команду (требуется наличие установленного и настроенного pgAdmin и .env файлов (с необходимыми переменными окружения) для клиента и сервера):

**_yarn development_**

## Название проекта: RS Social

## Тип проекта: социальная сеть

## Стек технологий: PERN(PostgreSQL, Express, React, Node.js) + Socket.IO

## Деплой: Heroku + Heroku Postgres - [ссылка](https://rss-social.herokuapp.com/)

### Общие возможности (client-server):

#### 1. Система ролей: USER (обычные права), ADMIN (расширенные права: удаление и повышение в правах других пользователей, удаление постов и комментариев USER пользователей)

#### 2. Постоянное клиент-серверное соединение через WebSocket (Socket.IO)

#### 3. HTTP-запросы, использующие REST-API архитектуру

### Возможности клиентской части (Front-End):

#### Использованные модули:

### Возможности серверной части (Back-end):

#### Использованные модули: express, bcryptjs, formidable, jsonwebtoken, concurrently, nodemon, typescript, cross-env, dotenv, pg, pg-hstore, sequelize, socket.io

1. Использование Node.js с фреймворком Express для создания сервера
2. Использование TypeScript при написании серверного кода
3. Для хранения данных используется реляционная база данных PostgreSQL (через Sequelize ORM)
4. Данные в БД хранятся в 5 моделях таблиц (User, Post, Comment, Message и Like), связанных между собой
5. Использование промежуточных обработчиков (middleware) при обработке запросов: check-auth (проверяет наличие авторизации пользователя при выполении запроса), role-id-access (проверяет отправленный JWT токен и расширяет запрос дополнительными полями - id и role), error-handling (позволяет использовать собственный объект API ошибки)
6. Обработка запросов по 20 маршрутам (роутам), корневой роутер объединяет 5 отдельных роутеров (их функционирование возможно проверить в devtools во вкладке network):
 - user:
6.1 GET /api/user/authcheck - запрос на проверку авторизации и валидности JWT токена
6.2 GET /api/user/:userId - запрос на получение информации конкретного пользователя
6.3 GET /api/user/ - запрос на получене пользователей по search-key (поиск пользователей)
6.4 POST /api/user/registration - запрос на регистрацию пользователя
6.5 POST /api/user/login - запрос на авторизацию пользователя
6.6 PUT /api/user/:id/update - запрос на изменение информации конкретного пользователя, его роли или изменение, удаление его аватарки
6.7 DELETE /api/user/:id/delete - запрос на удаление конкретного пользователя
- post
6.8 GET /api/post/:id - запрос на получение информации конкретного поста
6.9 GET /api/post/ - запрос на получение информации о всех постах
6.10 POST /api/post/:id/creation - запрос на создание поста
6.11 PUT /api/post/:id/update - запрос на изменение конкретного поста
6.12 DELETE /api/post/:id/delete - запрос на удаление конкретного поста
- сomment
6.13 POST /api/comment/:postId/:userId/creation - запрос на создание комментария к посту
6.14 DELETE /api/comment/:id/delete - запрос на удаление конкретного комментария
6.15 PUT /api/comment/:id/update - запрос на изменение конкретного комментария к посту
- message
6.16 POST /api/message/send - запрос на отправку сообщения конкретному пользователю
6.17 GET /api/message/:userId/:interlocutorId - запрос на получение сообщений конкретного диалога
6.18 DELETE /api/message/:id/delete - запрос на удаление конкретного сообщения
- like
6.19 POST /api/like/:postId/:userId/creation - запрос на добавление лайка для конкретного поста
6.20 DELETE /api/like/:id/delete - запрос на удаление лайка конкретного поста

7. Реализована авторизация и аутентификация пользователей по JWT токену: при каждом запуске приложения выполняется проверка JWT токена, если он был выдан, на валидность и истечение его срока действия (его время жизни - 24 часа). При регистрации/входе в систему выполняется проверка на соответствие пароля и униикальности соответствующих полей. Отправляются корректные сообщения в ответ на такие запросы
8. Реализовано сохранение файлов пользователя (изображения аватарок и файлов постов) в соответствующих директориях. При удалении пользователя, его директория удаляется
9. Шифрование пароля пользователя при его регистрации необратимое, при авторизации сверяется только хеш пароля
10. Серверная часть разделена на микросервисы (контроллеры, роутеры, middleware)
11. Настроены WebSocket и обрабатывают соббытия
